{% extends 'base.html.twig' %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.0.3/cookieconsent.min.css" />

{% endblock %}

{% block body %}
    <div class="container-fluid">

        {% include('cabecera.html.twig') %}

        {% include('menu.html.twig') %}

        {% block cuerpo %}{% endblock %}

        {% include('pie.html.twig') %}

        {% block javascripts %}
            {{ parent() }}
            
            {# 
                A continuación todos los scripts para el tablón de anuncios.
                Debido a que no se puede hacer heredable anuncios.html.twig, sólo se puede poner aquí
                si se quiere que los scripts vayan siempre al final del documento. Si no nos importa
                que los scripts vayan dentro del documento se puede poner el código de abajo dentro de
                la plantilla anuncios.html.twig
            #}
            <script src="{{ asset('base/js/jquery-3.3.1.js') }}"></script>
            <script type="text/javascript">
                var $jQuery_3_3_1 = jQuery.noConflict();
                window.jQuery = $jQuery_3_3_1;
            </script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" 
                crossorigin="anonymous"></script>
            <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
            <script defer src="https://use.fontawesome.com/releases/v5.0.10/js/all.js" integrity="sha384-slN8GvtUJGnv6ca26v8EzVaR9DC58QEwsIk9q1QXdCU8Yu8ck/tL/5szYlBbqmS+" crossorigin="anonymous"></script>
            <script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.0.3/cookieconsent.min.js"></script>
            
            <script type='text/javascript'>
                $jQuery_3_3_1(document).ready(
                    function(){
                    
                        window.cookieconsent.initialise({
                            "palette": {
                                "popup": {
                                    "background": "#000"
                                },
                                "button": {
                                    "background": "transparent",
                                    "text": "#f1d600",
                                    "border": "#f1d600"
                                }
                            },
                            "position": "bottom-left",
                            "content": {
                                "message": "Hola. Utilizamos cookies. Nosotros no compartimos tus datos con terceros. Aprovechamos para darte un cordial saludo.",
                                "dismiss": "Aceptar",
                                "link": "Leer más",
                                "href": "politica-cookies"
                            }
                        });

                    }
                );   

                // Esta función formatea una fecha que viene en formato json
                function formatearFecha(fecha) {
                    var fecha = new Date(fecha);
                    var dia = (fecha.getDate()< 10) ? '0'+fecha.getDate() : fecha.getDate();
                    var mes = fecha.getMonth()+1;
                    mes = (mes < 10) ? '0'+mes : mes;
                    var horas = (fecha.getHours()< 10) ? '0'+fecha.getHours() : fecha.getHours();
                    var minutos = (fecha.getMinutes()< 10) ? '0'+fecha.getMinutes() : fecha.getMinutes();
                    var fecha = dia+'/'+mes+'/'+fecha.getFullYear()+' '+horas+':'+minutos+'h';

                    return fecha;
                }

            </script>
            {# fin del código script para control del tablón de anuncios #}

        {% endblock %}

    </div>

{% endblock %}